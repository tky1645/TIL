name: actions test

on:
  push:
    branches:
        - actions_test
  workflow_dispatch:

jobs:
  echo_test:
    runs-on: ubuntu-latest
    steps: # 'steps' セクションを追加。何かしらのステップをここに記述する必要があります。
      - name: Example step
        run: echo "This is an example step for the 'build' job."

  CI:
    runs-on: ubuntu-latest 
    steps:
        - uses: actions/checkout@v4
        - name: Set up Python
          uses: actions/setup-python@v4
          with:
            python-version: '3.11' #requirements.txtのモジュールが3.12以降を想定していないため
        - name: Install dependencies
          run: |
            python -m pip install --upgrade pip            
            pip install -r ./Git_Github/requirements.txt
        - name: Test with pytest
          run: |
            pip install pytest pytest-cov
            pytest -v --result-log=tests/log.txt
            #pytest ./Git_Github/test_sample.py 